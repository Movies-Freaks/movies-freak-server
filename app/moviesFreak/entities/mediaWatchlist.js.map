{"version":3,"file":"mediaWatchlist.js","sourceRoot":"","sources":["mediaWatchlist.ts"],"names":[],"mappings":"AAAA,OAAO,MAAM,MAAM,UAAU,CAAC;AAG9B,OAAO,EAAE,cAAc,EAAE,mBAAmB,EAAE,MAAM,UAAU,CAAC;AAI/D,MAAM,cAAe,SAAQ,MAAM;IAUjC,YAAY,IAA0B;QACpC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QAE/C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACpC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;QACrC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IAC9B,CAAC;IAED,IAAI,MAAM;QACR,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,IAAI,WAAW;QACb,OAAO,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IAED,IAAI,SAAS;QACX,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YACjB,OAAO,MAAM,CAAC;QAChB,CAAC;QAED,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACnB,OAAO,WAAW,CAAC;QACrB,CAAC;QAED,OAAO,KAAK,CAAC;IACf,CAAC;IAED,OAAO,CAAC,IAAU;QAChB,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;YACd,MAAM,IAAI,cAAc,EAAE,CAAC;QAC7B,CAAC;QAED,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACnB,MAAM,IAAI,mBAAmB,EAAE,CAAC;QAClC,CAAC;QAED,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC;IACzB,CAAC;IAED,YAAY,CAAC,SAAoB;QAC/B,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;YACd,MAAM,IAAI,cAAc,EAAE,CAAC;QAC7B,CAAC;QAED,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACnB,MAAM,IAAI,mBAAmB,EAAE,CAAC;QAClC,CAAC;QAED,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,EAAE,CAAC;IACnC,CAAC;CACF;AAED,eAAe,cAAc,CAAC","sourcesContent":["import Entity from './entity';\nimport Film from './film';\nimport TVEpisode from './tvEpisode';\nimport { FilmAlreadySet, TVEpisodeAlreadySet } from './errors';\nimport { MediaWatchlistEntity } from '../../../types/entities';\nimport { UUID } from '../../../types/common';\n\nclass MediaWatchlist extends Entity implements MediaWatchlistEntity {\n  private _filmId?: UUID;\n  private _tvEpisodeId?: UUID;\n\n  watchlistId: UUID;\n  index: number;\n  watched: boolean;\n  film?: Film;\n  tvEpisode?: TVEpisode;\n\n  constructor(args: MediaWatchlistEntity) {\n    super(args.id, args.createdAt, args.updatedAt);\n\n    this.watchlistId = args.watchlistId;\n    this._filmId = args.filmId;\n    this._tvEpisodeId = args.tvEpisodeId;\n    this.index = args.index;\n    this.watched = args.watched;\n  }\n\n  get filmId() {\n    return this._filmId;\n  }\n\n  get tvEpisodeId() {\n    return this._tvEpisodeId;\n  }\n\n  get mediaType() {\n    if (this._filmId) {\n      return 'film';\n    }\n\n    if (this.tvEpisode) {\n      return 'tvEpisode';\n    }\n\n    return 'N/A';\n  }\n\n  setFilm(film: Film) {\n    if (this.film) {\n      throw new FilmAlreadySet();\n    }\n\n    if (this.tvEpisode) {\n      throw new TVEpisodeAlreadySet();\n    }\n\n    this.film = film;\n    this._filmId = film.id;\n  }\n\n  setTVEpisode(tvEpisode: TVEpisode) {\n    if (this.film) {\n      throw new FilmAlreadySet();\n    }\n\n    if (this.tvEpisode) {\n      throw new TVEpisodeAlreadySet();\n    }\n\n    this.tvEpisode = tvEpisode;\n    this._tvEpisodeId = tvEpisode.id;\n  }\n}\n\nexport default MediaWatchlist;\n"]}